# FINFET TCAD Simulation using Gmsh and GTS

## 1. Objective

This project aims to perform a 2D electrostatic simulation of a simple FINFET device. The primary goal is to calculate and visualize the electrostatic potential distribution within the device under a given set of bias conditions.

## 2. Technology Stack

*   **Gmsh:** For generating the 2D device mesh from a `.geo` file.
*   **GTS (GSS):** The Generic TCAD Simulator framework. Specifically, the GTS Schrödinger-Poisson Solver (`gss`) will be used to solve the Poisson equation.
*   **Python:** As a scripting language to automate the workflow and for post-processing.
*   **Matplotlib:** For plotting the final simulation results.

## 3. Simulation Workflow

The simulation process will be divided into the following distinct steps:

1.  **Geometry & Meshing:**
    *   A Python script (`generate_device.py`) will generate a `finfet.geo` file based on user-defined device parameters (fin width, gate length, etc.).
    *   `gmsh` will be executed via a shell command to process the `.geo` file and produce a compatible mesh file (e.g., `finfet.bnd`, `finfet.dom`).

2.  **GTS Command File:**
    *   A template for the GTS command file (`finfet.pdr`) will be created. This file is the main input for the GTS solver.
    *   It will define all aspects of the simulation, including:
        *   Input mesh files.
        *   Physical models to be used (Poisson equation).
        *   Material properties for Silicon (Si) and Oxide (SiO2).
        *   Definition of regions (fin, gate, oxide).
        *   Contacts (source, drain, gate) and their boundary conditions (e.g., Dirichlet).

3.  **Execution:**
    *   A Python script (`run_simulation.py`) will manage the simulation run.
    *   It will take bias conditions (e.g., gate voltage) as input.
    *   It will substitute the voltage values into the `finfet.pdr` template to create a run-specific command file.
    *   It will execute the GTS solver (`gss`) as a subprocess with the generated command file.

4.  **Post-processing:**
    *   A Python script (`plot_results.py`) will read the data file generated by GTS.
    *   It will use `matplotlib` to create a 2D contour plot of the electrostatic potential, similar to the previous approach.

## 4. Proposed Project Structure

To keep the project organized, the following directory structure will be used:

```
/
├── README.md
├── scripts/
│   ├── generate_device.py
│   ├── run_simulation.py
│   └── plot_results.py
├── templates/
│   └── finfet.pdr
└── output/            # For all generated files
    ├── finfet.geo
    ├── finfet.bnd
    ├── finfet.dom
    └── potential.dat
```

---

# GmshとGTSを用いたFINFETのTCADシミュレーション

## 1. 目的

本プロジェクトは、単純なFINFETデバイスの2次元静電ポテンシャルシミュレーションを行うことを目的とします。主な目標は、与えられたバイアス条件下でのデバイス内部の静電ポテンシャル分布を計算し、可視化することです。

## 2. 技術スタック

*   **Gmsh:** `.geo`ファイルから2Dデバイスメッシュを生成します。
*   **GTS (GSS):** 汎用TCADシミュレータフレームワーク。特に、ポアソン方程式を解くためにGTSのシュレディンガー・ポアソンソルバー(`gss`)を使用します。
*   **Python:** ワークフローの自動化と後処理のためのスクリプト言語として使用します。
*   **Matplotlib:** 最終的なシミュレーション結果のプロットに使用します。

## 3. シミュレーションのワークフロー

シミュレーションプロセスは、以下の明確なステップに分かれます。

1.  **ジオメトリ定義とメッシュ生成:**
    *   Pythonスクリプト(`scripts/generate_device.py`)が、ユーザー定義のデバイスパラメータ（フィン幅、ゲート長など）に基づいて`finfet.geo`ファイルを生成します。
    *   シェルコマンド経由で`gmsh`を実行し、`.geo`ファイルを処理して互換性のあるメッシュファイル（例: `finfet.bnd`, `finfet.dom`）を生成します。

2.  **GTSコマンドファイル:**
    *   GTSコマンドファイルのテンプレート(`templates/finfet.pdr`)を作成します。このファイルがGTSソルバーの主な入力となります。
    *   このファイルで、シミュレーションの全ての側面を定義します。具体的には以下の通りです。
        *   入力メッシュファイル
        *   使用する物理モデル（ポアソン方程式）
        *   シリコン(Si)と酸化膜(SiO2)の材料特性
        *   領域（fin, gate, oxide）の定義
        *   接触（source, drain, gate）とその境界条件（例: ディリクレ条件）

3.  **実行:**
    *   Pythonスクリプト(`scripts/run_simulation.py`)がシミュレーションの実行を管理します。
    *   バイアス条件（例: ゲート電圧）を入力として受け取ります。
    *   電圧値を`templates/finfet.pdr`テンプレートに代入し、実行固有のコマンドファイルを生成します。
    *   生成されたコマンドファイルを使って、GTSソルバー(`gss`)をサブプロセスとして実行します。

4.  **後処理:**
    *   Pythonスクリプト(`scripts/plot_results.py`)がGTSによって生成されたデータファイルを読み込みます。
    *   `matplotlib`を使い、以前のアプローチと同様に、静電ポテンシャルの2D等高線図を作成します。

## 4. 提案するプロジェクト構造

プロジェクトを整理するため、以下のディレクトリ構造を使用します。

```
/
├── README.md
├── scripts/
│   ├── generate_device.py
│   ├── run_simulation.py
│   └── plot_results.py
├── templates/
│   └── finfet.pdr
└── output/            # 生成されるすべてのファイル用
    ├── finfet.geo
    ├── finfet.bnd
    ├── finfet.dom
    └── potential.dat
```